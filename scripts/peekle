#!/usr/bin/env ipython3
import pickle
import sys
import os
import code
import argparse

def rewrite(path, data):
    with open(path,"wb") as f:
        pickle.dump(data, path)

parser = argparse.ArgumentParser()
parser.add_argument("filepath")
parser.add_argument("-i", "--interactive", dest="interactive", action = "store_true")
args = parser.parse_args()

filepath = args.filepath



with open(filepath, "rb") as f:
    data = pickle.load(f)
try:
    print("{} data.".format(len(data)))
    for i, d in enumerate(data):
        print(i+1,"type:", type(d))
except:
    print("No iterable data.")
    print("type:", type(data))

if args.interactive:
    code.interact(local=locals())
